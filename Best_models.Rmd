---
title: "Best_models"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Best models

These are the best models for all the traits.

## 1. Derived woodiness

### a. Best model formula
```{r}
# Formula ... 
woody_formula_24a <- woody ~ Aspect + BulkDensity + ClayPercentage + monthCountByTemp10 + PETDriestQuarter + PETWettestQuarter + OrganicCarbon + PhCaCL + Slope + bio2 + bio5 + bio14 + bio15 + bio18 + bio19
```

### b. Model optimization 
To optimize the model, the phyloglm function is used. 
```{r}
#load required package
library(phylolm)

#execute function
model_woody <- phyloglm(formula = woody_formula_24a, data = GIS_woody, phy = tree_woody, method = "logistic_MPLE", btol = , log.alpha.bound = , start.beta = , start.alpha = , boot = , full.matrix = TRUE)

print(model_woody)
summary(model_woody) 
plot(model_woody)
```

### c. Model performance
The model performance package is used, to see whether the model sticks to the assumptions we've made.
```{r}
#load required package 
library(performance)
library(see)
library(gridExtra)

#execute function
check_model(model_woody)
```

### Conclusion: The best model
```{r}
#best model 
woodiness <- woody ~ 0.83475898 + 0.15198885*BulkDensity -0.48410553*monthCountByTemp10 + 0.08058603*PETWettestQuarter + 0.43981669*OrganicCarbon -0.30052534*PhCaCL -0.19695033*Slope + 0.48659487*bio5 + 0.20864413*bio19
```

## 2. Domestication (staple crops)

### a. Best model formula
```{r}
# Formula ...
crops_formula_11a <- domestication ~ Aspect + BulkDensity + ClayPercentage + aridityIndexThornthwaite + continentality + minTempWarmest + PETWarmestQuarter + PETWettestQuarter + OrganicCarbon + PhCaCL + Slope + bio13 + bio19
```

### b. Model optimization 
To optimize the model, the phyloglm function is used. 
```{r}
#load required package
library(phylolm)

#execute function
model_crops <- phyloglm(formula = , data = GIS_crops, phy = tree_crops, method = "logistic_MPLE", btol = , log.alpha.bound = , start.beta = , start.alpha = , boot = , full.matrix = TRUE)

print(model_crops)
summary(model_crops) 
plot(model_crops)
```

### c. Model performance
The model performance package is used, to see whether the model sticks to the assumptions we've made.
```{r}
#load required package 
library(performance)
library(see)
library(gridExtra)

#execute function
check_model(model_crops)
```

### Conclusion: The best model
```{r}
#best model
domestication <- domestication ~ 0.2718999 + 0.7254957*Aspect + 0.4467063*ClayPercentage + 0.4136109*PhCaCL + 0.2569151*Slope 
```

## 3. Mycorrhiza

### a. Best model formula
```{r}
# Formula ... 
myco_formula_10c <- mycorrhiza ~ Aspect + BulkDensity + ClayPercentage + climaticMoistureIndex + OrganicCarbon + PhCaCL + Slope + bio3 + bio8 + bio9 + bio14 + bio15 + bio19
```

### b. Model optimization 
To optimize the model, the phyloglm function is used. 
```{r}
#load required package
library(phylolm)

#execute function
model_myco <- phyloglm(formula = , data = GIS_myco, phy = tree_myco, method = "logistic_MPLE", btol = , log.alpha.bound = , start.beta = , start.alpha = , boot = , full.matrix = TRUE)

print(model_myco)
summary(model_myco) 
plot(model_myco)
```

### c. Model performance
The model performance package is used, to see whether the model sticks to the assumptions we've made.
```{r}
#install and load required package 
library(performance)
library(see)
library(gridExtra)

#execute function
check_model(model_myco)
```

### Conclusion: The best model
```{r}
#best model
mycorrhiza <- mycorrhiza ~ 0.4401803 -0.1885960*Aspect + 0.1493415*ClayPercentage + 0.4445646*climaticMoistureIndex + 0.1417067*Slope -0.5940963*bio3 -0.5048234*bio14 + 0.2912411*bio19
```

## Compare all the models
Just for fun, see which model performs best. 

```{r}
# Compare models
compare_performance(model_woody, model_crops, model_myco, rank = TRUE)
```

